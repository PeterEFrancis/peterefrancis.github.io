const signature = document.getElementById('signature');
const signature_ctx = signature.getContext('2d');
signature_ctx.lineWidth = 4;

function animate_signature() {
  signature_ctx.clearRect(0, 0, signature.width, signature.height);
  let b = 10;
  let point_groups = [
    [
      [92,214],[92,216],[92,218],[93,220],[93,222],[94,224],[94,226],[95,229],[97,231],[98,232],[100,233],[102,233],[104,233],[106,232],[108,231],[110,230],[112,229],[114,228],[117,226],[120,224],[123,223],[125,222],[127,220],[130,219],[132,217],[135,216],[137,214],[140,212],[142,211],[145,210],[147,208],[150,207],[152,205],[154,204],[157,203],[159,201],[162,200],[164,198],[167,196],[170,194],[172,193],[175,192],[177,190],[180,189],[182,187],[184,186],[187,184],[189,182],[192,181],[194,179],[196,178],[198,177],[200,175],[203,173],[205,172],[207,170],[210,168],[213,167],[215,165],[218,163],[221,162],[224,160],[227,159],[228,157],[231,156],[233,155],[236,154],[238,152],[240,151],[243,150.66666793823242],[246,149.66666793823242],[250,147.66666793823242],[254,146.66666793823242],[257,144.66666793823242],[261,143.66666793823242],[264,143.66666793823242],[268,142.66666793823242],[271,142.66666793823242],[274,143.66666793823242],[276,144.66666793823242],[277,146.66666793823242],[278,149.66666793823242],[278,151.66666793823242],[278,154.66666793823242],[278,157.66666793823242],[277,159.66666793823242],[277,161.66666793823242],[275,164.66666793823242],[274,167.66666793823242],[273,170.66666793823242],[272,173.66666793823242],[271,176.66666793823242],[269,179.66666793823242],[268,182.66666793823242],[266,184.66666793823242],[264,187.66666793823242],[263,190.66666793823242],[260,193.66666793823242],[258,197.66666793823242],[256,200.66666793823242],[254,202.66666793823242],[252,204.66666793823242],[250,208],[248,212],[246,213.5],[245,216.5],[243,217.5],[242,219.5],[241,220.5],[240,221.5],[239,223.5],[238,225.25],[236,227.25],[234,230.25],[233,232.25],[232,234.25],[230,235.25],[229,238.25],[227,239.75],[226,242.75],[224,244.75],[222,247.75],[220,250.75],[218,253.75],[216,256.75],[214,258.75],[213,261.75],[211,264.75],[209,266.75],[207,269.75],[205,272.75],[203,275.75],[202,277.75],[200,279.75],[199,281.75],[197,283.75],[195,286.75],[194,289.75],[192,291.75],[190,294.75],[189,296.75],[187,297.75],[186,299.75],[185,301.75],[183,303.75],[181,306.75],[180,308.75],[178,310.75],[176.5,314.25],[175.5,315.25],[174.5,316.25],[173.5,317.25],[172.5,318.25],[172.5,319.25],[170.5,321.25],[168.5,323.25],[166.5,326.25],[164.5,328.25],[163.5,330.25],[161.5,332.25],[159.5,334.25],[158.5,335.25],[157.5,337.25],[155.5,338.25],[154.5,340.25],[153.5,342.25],[151.5,343.25],[150.5,345.25],[148.5,347.25],[147.5,348.25],[146.5,350.25],[145.5,352.25],[143.5,353.25],[142.5,355.25],[140.5,357.25],[139.5,358.25],[137.5,360.25],[136.5,361.25],[135.5,362.25],[133.5,364.25],[132.5,366.25],[130.5,367.25],[129.5,369.25],[128.5,370.25],[127.5,372.25],[126.5,373.25],[125.5,374.25],[123.5,375.25],[121.5,377.25],[120.5,378.25],[119.5,380.25],[117.5,382.25],[116.5,384.25],[115.5,385.25],[114.5,386.25],[113.5,387.25],[112.5,389.25],[110.5,390.25],[109.5,392.25],[107.5,394.25],[105.5,396.25],[103.5,398.25],[102.5,400.25],[100.5,401.25],[99.5,403.25],[96.5,405.25],[94.5,407.25],[92.5,409.25],[90.5,410.25],[88.5,411.25],[85.5,413.25],[84.5,414.25],[83.5,413.25],[84.5,411.25],[85.5,409.25],[86.5,406.25],[87.5,404.25],[88.5,402.25],[89.5,400.25],[90.5,398.25],[91.5,396.25],[92.5,394.25],[93.5,392.25],[95.5,390.25],[96.5,387.25],[98.5,384.25],[99.5,382.25],[101.5,379.25],[103.5,376.25],[105.5,373.25],[107.5,370.25],[109.5,367.25],[111.5,364.25],[113.5,362.25],[114.5,359.25],[116.5,356.25],[117.5,353.25],[119.5,351.25],[121.5,348.25],[123.5,345.25],[125.5,342.25],[128.5,339.25],[130.5,336.25],[132.5,332.25],[134.5,330.25],[136.5,327.25],[138.5,325.25],[140.5,322.25],[143.5,319.25],[145.5,316.25],[148.5,313.25],[150.5,310.25],[152.5,307.25],[155.5,305.25],[157.5,302.25],[159.5,299.25],[161.5,296.25],[164.5,293.25],[166.5,290.25],[168.5,287.25],[171.5,284.25],[173.5,281.25],[176.5,278.25],[178.5,275.25],[180.5,271.25],[182.5,268.25],[184.5,265.25],[186.5,262.25],[188.5,259.25],[190.5,256.25],[191.5,253.25],[193.5,250.25],[195.5,247.25],[197.5,245.25],[198.5,243.25],[199.5,241.25],[201.5,238.25],[203.5,235.25],[205.5,232.25],[206.5,230.25],[208.5,227.25],[209.5,225.25],[211.5,222.25],[212.5,220.25],[214.5,217.25],[216.5,214.25],[218.5,211.25],[220.5,208.25],[222.5,205.25],[224.5,203.25],[226.5,200.25],[227.5,198.25],[229.5,195.25],[231.5,193.25],[233.5,190.25],[235.5,187.25],[237.5,185.25],[239.5,183.25],[241.5,180.25],[243.5,178.25],[245.5,176.25],[247.5,173.25],[249.5,170.25],[252.5,167.25],[254.5,165.25],[256.5,162.25],[258.5,160.25],[260.5,157.25],[263.5,154.25],[264.5,152.25],[266.5,150.25],[268.5,147.25],[271.5,145.25],[273.5,142.25],[275.5,140.25],[277.5,137.25],[280.5,135.25],[282.5,132.5],[285.5,130.5],[288.5,127.5],[291.5,124.5],[294.5,121.5],[297.5,118.5],[300.5,115.5],[304.5,113.5],[307.5,110.5],[311.5,108.5],[315.5,106.5],[318.5,105.5],[321.5,103.5],[325.5,101.5],[328.5,100.5],[332.5,99.5],[336.5,98.5],[340.5,97.5],[344.5,96.5],[349.5,96.5],[354.5,96.5],[358.5,97.5],[362.5,97.5],[366.5,98.5],[370.5,100.5],[371.5,103.5],[372.5,107.5],[372.5,111.5],[372.5,115.5],[372.5,119.5],[371.5,123.5],[370.5,126.5],[368.5,129.5],[366.5,133.5],[364.5,136.5],[362.5,139.5],[360.5,142.5],[358.5,144.5],[356.5,147.5],[354.5,149.5],[352.5,152.5],[350.5,155.5],[347.5,158.5],[345.5,160.5],[343.5,162.5],[341.5,165.5],[338.5,167.5],[336.5,169.5],[334.5,172.5],[331.5,174.5],[328.5,176.5],[326.5,179.5],[323.5,182.5],[320.5,185.5],[318.5,187.5],[316.5,189.5],[314.5,191.5],[312.5,193.5],[310.5,195.5],[308.5,197.5],[305.5,199.5],[303.5,201.5],[300.5,204.5],[298.5,206.5],[295.5,208.5],[292.5,211.5],[289.5,214.5],[287.5,216.5],[284.5,218.5],[282.5,221.5],[279.5,223.5],[277.5,225.5],[274.5,227.5],[272.5,230.5],[270.5,232.5],[267.5,234.5],[264.5,236.5],[262.5,238.5],[260.5,240.5],[258.5,243.5],[256.5,244.5],[254.5,247.5],[258.5,245.5],[261.5,242.5],[263.5,240.5],[266.5,238.5],[268.5,236.5],[271.5,234.5],[273.5,231.5],[275.5,230.5],[277.5,228.5],[279.5,226.5],[281.5,224.5],[283.5,223.5]],
    [
      [402,129],[400,129],[399,129],[396,129],[394,130],[393,132],[392,135],[393,138],[394,140],[396,143],[399,144],[403,145],[407,147],[412,147],[417,148],[421,148],[426,148],[431,147],[435,147],[439,146],[443,145],[447,144],[448,144],[452,142],[455,141],[458,140],[461,139],[463,137],[466,135],[468,134],[471,132],[473,130],[476,128],[479,127],[481,124],[483,123],[485,121],[487,119],[488,117],[487,118],[486,119],[485,121],[484,123],[484,125],[484,128],[484,131],[484,134],[487,137],[490,140],[494,142],[498,144],[502,145],[505,145],[509,146],[513,146],[517,147],[523.3333435058594,146],[527.3333435058594,147],[531.3333435058594,146],[537.3333435058594,146],[541.3333435058594,146],[546.3333435058594,145],[550.3333435058594,145],[557.3333435058594,144],[561.3333435058594,143],[566.3333435058594,142],[569.3333435058594,141],[572.3333435058594,140],[576.3333435058594,139],[581.3333435058594,138],[585.3333435058594,138],[591.3333435058594,137],[593.3333435058594,136],[598.3333435058594,135],[600.3333435058594,135],[604.3333435058594,133],[610.3333435058594,132],[613.6666870117188,131],[619.6666870117188,129],[623.6666870117188,127],[628.6666870117188,125],[632.6666870117188,123],[637.6666870117188,119],[641.6666870117188,116],[644.6666870117188,113],[646.6666870117188,111],[647.6666870117188,108],[649.6666870117188,105],[649.6666870117188,101],[649.6666870117188,98],[649.6666870117188,94],[647.6666870117188,93],[643.6666870117188,92],[640.6666870117188,93],[637.6666870117188,94],[634.6666870117188,95],[631.6666870117188,96],[628.6666870117188,97],[625.6666870117188,99],[622.6666870117188,101],[619.6666870117188,103],[617.6666870117188,106],[614.6666870117188,108],[613.6666870117188,110],[610.6666870117188,113],[607.6666870117188,115],[605.6666870117188,117],[603.6666870117188,119],[601.6666870117188,122],[600.6666870117188,125],[597.6666870117188,128],[595.6666870117188,131],[593.6666870117188,133],[592.6666870117188,135],[590.6666870117188,138],[589.6666870117188,140],[587.6666870117188,143],[585.6666870117188,145],[584.6666870117188,147],[582.6666870117188,150],[580.6666870117188,152],[579.6666870117188,155],[577.6666870117188,158],[575.6666870117188,160],[573.6666870117188,163],[571.6666870117188,165],[569.6666870117188,168],[568.6666870117188,171],[566.6666870117188,174],[564.6666870117188,176],[562.6666870117188,179],[560.6666870117188,181],[558.6666870117188,183],[557.6666870117188,186],[555.6666870117188,188],[553.6666870117188,190],[551.6666870117188,191],[549.6666870117188,194],[546.6666870117188,196],[544.6666870117188,198],[542.6666870117188,201],[540.6666870117188,204],[538.6666870117188,206],[536.6666870117188,209],[533.6666870117188,211],[530.6666870117188,215],[528.6666870117188,218],[527.6666870117188,220],[524.6666870117188,223],[522.6666870117188,225],[520.6666870117188,227],[518.6666870117188,229],[517.6666870117188,231],[515.6666870117188,234],[513.6666870117188,236],[512.6666870117188,237],[510.66668701171875,240],[508.66668701171875,242],[507.66668701171875,244],[505.66668701171875,246],[503.66668701171875,249],[501.66668701171875,252],[499.66668701171875,255],[497.66668701171875,257],[495.66668701171875,259],[493.66668701171875,261],[492.66668701171875,262],[490.66668701171875,265],[488.66668701171875,267],[487.66668701171875,269],[485.66668701171875,271],[483.66668701171875,273],[481.66668701171875,275],[479.66668701171875,277],[477.66668701171875,279],[475.66668701171875,281],[473.66668701171875,283.3333435058594],[471.66668701171875,285.3333435058594],[469.66668701171875,287.3333435058594],[467.66668701171875,289.3333435058594],[464.66668701171875,291.3333435058594],[461.66668701171875,294.3333435058594],[459.66668701171875,295.3333435058594],[456.66668701171875,298.3333435058594],[454.66668701171875,300.3333435058594],[452.66668701171875,302.3333435058594],[450.66668701171875,304.3333435058594],[448.66668701171875,306.3333435058594],[445.66668701171875,308.3333435058594],[443.66668701171875,310.3333435058594],[441.66668701171875,312.3333435058594],[439.66668701171875,314.3333435058594],[436.66668701171875,316.3333435058594],[435,318],[433,320],[430,322],[428,325],[425,327],[423,329],[421,332],[418,334],[415,337],[412,340],[409,342],[406,345],[403,348],[400,351],[397,354],[394,357],[392,360],[389,362],[387,364],[385,366],[383,368],[382,370],[380,372],[378,373],[376,375],[374,377],[372,379],[369,381],[367,384],[365,385],[362,388],[360,390],[358,392],[355,395],[352,397],[349,397],[347,397],[347,394],[347,390],[348,387],[348,383],[349,380],[349,377],[350,374],[351,371],[352,369],[354,365],[356,362],[357,358],[358,355],[359,352],[361,349],[362,345],[364,342],[366,338],[368,334],[370,330],[372,326],[373,322],[375,319],[377,316],[380,312],[381,309],[383,305],[384,302],[387,299],[389,296],[391,293],[393,290],[395,287],[398,284],[401,280],[404,276],[407,273],[412,269],[416,266],[419,263],[423,260],[427,259],[431,256],[435,255],[440,254],[444,254],[449,253],[454,252],[459,252],[463,252],[469,252],[474,252],[477,252],[482,252],[487,252],[490,252],[494,253],[499,254],[503,255],[507,256],[511,257],[516,259],[520,260],[523,262],[527,262],[530,263],[534,265],[538,267],[540,268],[542,270],[543,273],[542,275],[540,277],[536,279],[534,280],[531,281],[531,282],[535,280],[538,278],[541,277],[546,274],[549,272],[552,271],[556,269],[558.5,267],[562.5,265],[566.5,262],[569.5,260],[572.5,258],[575.5,256],[578.5,254],[581.5,251],[584.5,248],[587.5,247],[590.5,245],[593.5,242],[595.5,242],[594.5,244],[591.5,247],[589.5,249],[587.5,251],[585.5,253],[583.5,257],[582.5,260],[580.5,262],[579.5,264],[578.5,267],[576.5,270],[574.5,273],[573.5,275],[571.5,278],[570.5,282],[569.5,285],[568.5,288],[568.5,291],[569.5,293],[572.5,294],[575.5,294],[580.5,293],[584.5,293],[590.5,291],[594.5,289],[598.5,287],[602.5,285],[605.5,284],[609.5,281],[612.5,279],[616.5,276],[621.5,273],[625.5,271],[629.5,268],[632.5,266],[636.5,264],[639.5,261],[642.5,259],[644.5,256],[642.5,259],[641.5,261],[638.5,265],[636.5,269],[635.5,272],[633.5,276],[633.5,280],[634.5,284],[637.5,286],[640.5,287],[644.5,287],[648.5,287],[652.5,287],[657.5,286],[661.5,284],[664.5,283],[668.5,282],[671.5,280],[675.5,278],[678.5,276],[682.5,274],[685.5,272],[688.5,270],[691.5,268],[694.5,266],[698.5,263],[702.5,260],[704.5,257],[702.5,259],[701.5,264],[699.5,267],[698.5,272],[697.5,275],[697.5,278],[698.5,281],[702.5,282],[706.5,283],[709.5,283],[713.5,282],[717.5,281],[722.5,281],[726.5,280],[729.5,279],[733.5,278],[737.5,276],[741.5,274],[744.5,273],[748.5,272],[752.5,271],[755.5,270],[758.5,269],[758.5,271],[758.5,274],[758.5,278],[759.5,280],[761.5,282],[765.5,283],[770.5,282],[775.5,281],[779.5,280],[783.5,277],[787.5,275],[790.5,272],[794.5,270],[797.5,267],[800.5,265],[803.5,262],[807.5,260],[811.5,257],[813.5,256],[816.5,255],[817.5,258],[819.5,262],[821.5,265],[822.5,267],[825.5,270],[829.5,271],[834.5,271],[838.5,270],[841.5,270],[846.5,269],[850.5,269],[854.5,268],[858.5,266],[862.5,265],[866.5,263],[870.5,262],[873.5,260],[876.5,258],[879.5,257],[883.5,256],[886.5,255],[887.5,258],[887.5,260],[886.5,264],[886.5,268],[889.5,271],[892.5,274],[896.5,276],[900.5,277],[906.5,277],[911.5,278],[916.5,278],[922.5,278],[928.5,277],[934.5,278],[941.5,278],[948.5,278],[952.5,277]
  ]
  ];

  let j = 0;
  let i = 0;

  let signature_intervalID = setInterval(function() {

    signature_ctx.beginPath();
    signature_ctx.moveTo(point_groups[j][i][0], point_groups[j][i][1]);
    signature_ctx.lineTo(point_groups[j][i + 2][0], point_groups[j][i +  2][1]);
    i+= 2;
    signature_ctx.stroke();

    if (i >= point_groups[j].length - 2) {
      j++;
      i = 0;
    }
    if (j >= point_groups.length) {
      clearInterval(signature_intervalID);
    }

  }, 1);
}

window.addEventListener('scroll', signature_viewtest);
function signature_viewtest() {
  var position = signature.getBoundingClientRect();
  if(position.top >= 0 && position.bottom <= window.innerHeight) {
    window.removeEventListener('scroll', signature_viewtest)
    animate_signature();
    
  }
}